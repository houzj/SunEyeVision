<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API æ–‡æ¡£ - SunEyeVision å¸®åŠ©æ–‡æ¡£</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h1>SunEyeVision</h1>
                <p>æœºå™¨è§†è§‰ç®—æ³•å¹³å°</p>
            </div>
            <div class="nav-menu">
                <a href="../index.html" class="nav-item">ğŸ  é¦–é¡µ</a>
                <a href="../features/index.html" class="nav-item">âœ¨ åŠŸèƒ½ç‰¹æ€§</a>
                <a href="../usermanual/index.html" class="nav-item">ğŸ“– ç”¨æˆ·æ‰‹å†Œ</a>
                <a href="../architecture/index.html" class="nav-item">ğŸ—ï¸ è½¯ä»¶æ¶æ„</a>
                <a href="../roadmap/index.html" class="nav-item">ğŸ—ºï¸ å¼€å‘è·¯çº¿å›¾</a>
                <a href="../progress/index.html" class="nav-item">ğŸ“Š å¼€å‘è¿›åº¦</a>
                <a href="../api/index.html" class="nav-item active">ğŸ”§ API æ–‡æ¡£</a>
            </div>
        </nav>

        <main class="main-content">
            <header class="content-header">
                <h1>API æ–‡æ¡£</h1>
                <div class="subtitle">SunEyeVision å¼€å‘è€…å‚è€ƒ</div>
            </header>

            <section class="content-section">
                <h2>æ¦‚è¿°</h2>
                <p>SunEyeVision API æ–‡æ¡£åŒ…å«æ‰€æœ‰å…¬å…±æ¥å£å’Œç±»çš„è¯¦ç»†è¯´æ˜ã€‚API æ–‡æ¡£æ ¹æ® XML æ³¨é‡Šè‡ªåŠ¨ç”Ÿæˆï¼Œç¡®ä¿ä¸ä»£ç åŒæ­¥ã€‚</p>
                <p>å¼€å‘è€…å¯ä»¥ä½¿ç”¨è¿™äº› API æ¥ï¼š</p>
                <ul>
                    <li>å¼€å‘è‡ªå®šä¹‰ç®—æ³•</li>
                    <li>åˆ›å»ºæ’ä»¶</li>
                    <li>é›†æˆåˆ°ç°æœ‰ç³»ç»Ÿ</li>
                    <li>è‡ªåŠ¨åŒ–æµ‹è¯•</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>æ¨¡å—æ–‡æ¡£</h2>

                <div class="module-list">
                    <div class="module-item">
                        <h3>SunEyeVision.Core</h3>
                        <p>æ ¸å¿ƒåŸºç¡€åº“ï¼ŒåŒ…å«æ¥å£å®šä¹‰ã€æ—¥å¿—ç³»ç»Ÿã€é…ç½®ç®¡ç†ç­‰åŸºç¡€åŠŸèƒ½ã€‚</p>
                        <h4>ä¸»è¦å‘½åç©ºé—´ï¼š</h4>
                        <ul>
                            <li><code>SunEyeVision.Core.Interfaces</code> - æ ¸å¿ƒæ¥å£å®šä¹‰</li>
                            <li><code>SunEyeVision.Core.Services</code> - æ ¸å¿ƒæœåŠ¡å®ç°</li>
                            <li><code>SunEyeVision.Core.Models</code> - æ ¸å¿ƒæ•°æ®æ¨¡å‹</li>
                        </ul>
                        <p><a href="core.html">æŸ¥çœ‹ Core æ¨¡å— API â†’</a></p>
                    </div>

                    <div class="module-item">
                        <h3>SunEyeVision.Algorithms</h3>
                        <p>è§†è§‰ç®—æ³•åº“ï¼Œæä¾›å›¾åƒé¢„å¤„ç†ã€ç‰¹å¾æå–ã€æµ‹é‡è¯†åˆ«ç­‰ç®—æ³•ã€‚</p>
                        <h4>ä¸»è¦å‘½åç©ºé—´ï¼š</h4>
                        <ul>
                            <li><code>SunEyeVision.Algorithms</code> - ç®—æ³•åŸºç±»å’Œæ¥å£</li>
                            <li><code>SunEyeVision.Algorithms.Preprocessing</code> - é¢„å¤„ç†ç®—æ³•</li>
                            <li><code>SunEyeVision.Algorithms.Feature</code> - ç‰¹å¾æå–ç®—æ³•</li>
                            <li><code>SunEyeVision.Algorithms.Measurement</code> - æµ‹é‡ç®—æ³•</li>
                            <li><code>SunEyeVision.Algorithms.Recognition</code> - è¯†åˆ«ç®—æ³•</li>
                        </ul>
                        <p><a href="algorithms.html">æŸ¥çœ‹ Algorithms æ¨¡å— API â†’</a></p>
                    </div>

                    <div class="module-item">
                        <h3>SunEyeVision.Workflow</h3>
                        <p>å·¥ä½œæµå¼•æ“ï¼Œæ”¯æŒå¯è§†åŒ–çš„å·¥ä½œæµè®¾è®¡å’Œç®¡ç†ã€‚</p>
                        <h4>ä¸»è¦å‘½åç©ºé—´ï¼š</h4>
                        <ul>
                            <li><code>SunEyeVision.Workflow</code> - å·¥ä½œæµæ ¸å¿ƒç±»</li>
                            <li><code>SunEyeVision.Workflow.Nodes</code> - å·¥ä½œæµèŠ‚ç‚¹</li>
                            <li><code>SunEyeVision.Workflow.Models</code> - å·¥ä½œæµæ¨¡å‹</li>
                        </ul>
                        <p><a href="workflow.html">æŸ¥çœ‹ Workflow æ¨¡å— API â†’</a></p>
                    </div>

                    <div class="module-item">
                        <h3>SunEyeVision.PluginSystem</h3>
                        <p>æ’ä»¶ç³»ç»Ÿï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œæ‰©å±•åŠŸèƒ½ã€‚</p>
                        <h4>ä¸»è¦å‘½åç©ºé—´ï¼š</h4>
                        <ul>
                            <li><code>SunEyeVision.PluginSystem</code> - æ’ä»¶æ¥å£å’Œç±»</li>
                            <li><code>SunEyeVision.PluginSystem.Models</code> - æ’ä»¶æ¨¡å‹</li>
                        </ul>
                        <p><a href="plugins.html">æŸ¥çœ‹ PluginSystem æ¨¡å— API â†’</a></p>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <h2>å¸¸ç”¨æ¥å£</h2>

                <h3>IAlgorithm</h3>
                <p>ç®—æ³•æ¥å£ï¼Œæ‰€æœ‰ç®—æ³•å¿…é¡»å®ç°æ­¤æ¥å£ã€‚</p>
                <div class="api-signature">
                    <code>
                        public interface IAlgorithm
                        {
                            string Name { get; }
                            string Description { get; }
                            AlgorithmParameters Parameters { get; }
                            AlgorithmResult Execute(Mat input);
                        }
                    </code>
                </div>

                <h3>ILogger</h3>
                <p>æ—¥å¿—æ¥å£ï¼Œç”¨äºè®°å½•ç³»ç»Ÿè¿è¡Œä¿¡æ¯ã€‚</p>
                <div class="api-signature">
                    <code>
                        public interface ILogger
                        {
                            void Info(string message);
                            void Warning(string message);
                            void Error(string message);
                            void Debug(string message);
                        }
                    </code>
                </div>

                <h3>IDeviceDriver</h3>
                <p>è®¾å¤‡é©±åŠ¨æ¥å£ï¼Œç”¨äºæ§åˆ¶ç¡¬ä»¶è®¾å¤‡ã€‚</p>
                <div class="api-signature">
                    <code>
                        public interface IDeviceDriver : IDisposable
                        {
                            string DeviceId { get; }
                            string DeviceName { get; }
                            bool IsConnected { get; }
                            Task ConnectAsync();
                            Task DisconnectAsync();
                            Task<Mat> CaptureImageAsync();
                        }
                    </code>
                </div>

                <h3>IVisionPlugin</h3>
                <p>æ’ä»¶æ¥å£ï¼Œæ‰€æœ‰æ’ä»¶å¿…é¡»å®ç°æ­¤æ¥å£ã€‚</p>
                <div class="api-signature">
                    <code>
                        public interface IVisionPlugin
                        {
                            string Name { get; }
                            string Version { get; }
                            string Description { get; }
                            void Initialize(IPluginContext context);
                            void Load();
                            void Unload();
                        }
                    </code>
                </div>
            </section>

            <section class="content-section">
                <h2>ä»£ç ç¤ºä¾‹</h2>

                <h3>åˆ›å»ºè‡ªå®šä¹‰ç®—æ³•</h3>
                <pre><code>public class MyCustomAlgorithm : BaseAlgorithm
{
    public MyCustomAlgorithm(ILogger logger) : base(logger)
    {
        Name = "MyCustomAlgorithm";
        Description = "æˆ‘çš„è‡ªå®šä¹‰ç®—æ³•";
    }

    protected override AlgorithmResult ExecuteInternal(Mat input)
    {
        // ç®—æ³•å®ç°
        Mat output = input.Clone();

        // å¤„ç†å›¾åƒ...

        return new AlgorithmResult
        {
            Success = true,
            OutputImage = output,
            ResultData = new { /* ç»“æœæ•°æ® */ }
        };
    }
}</code></pre>

                <h3>åˆ›å»ºå·¥ä½œæµ</h3>
                <pre><code>// åˆ›å»ºå·¥ä½œæµå¼•æ“
var engine = new WorkflowEngine(logger);

// åˆ›å»ºå·¥ä½œæµ
var workflow = engine.CreateWorkflow("myworkflow", "æˆ‘çš„å·¥ä½œæµ", "æ¼”ç¤º");

// æ·»åŠ ç®—æ³•èŠ‚ç‚¹
var blurNode = new AlgorithmNode("blur", "é«˜æ–¯æ¨¡ç³Š", new GaussianBlurAlgorithm(logger));
var grayNode = new AlgorithmNode("gray", "ç°åº¦è½¬æ¢", new GrayScaleAlgorithm(logger));

workflow.AddNode(blurNode);
workflow.AddNode(grayNode);

// è¿æ¥èŠ‚ç‚¹
workflow.ConnectNodes("blur", "gray");

// æ‰§è¡Œå·¥ä½œæµ
var results = workflow.Execute(image);</code></pre>

                <h3>åˆ›å»ºæ’ä»¶</h3>
                <pre><code>public class MyPlugin : IVisionPlugin
{
    public string Name => "My Plugin";
    public string Version => "1.0.0";
    public string Description => "æˆ‘çš„æ’ä»¶";

    public void Initialize(IPluginContext context)
    {
        // åˆå§‹åŒ–æ’ä»¶
    }

    public void Load()
    {
        // åŠ è½½æ’ä»¶
    }

    public void Unload()
    {
        // å¸è½½æ’ä»¶
    }
}</code></pre>
            </section>

            <section class="content-section">
                <h2>æœ€ä½³å®è·µ</h2>

                <h3>ç®—æ³•å¼€å‘</h3>
                <ul>
                    <li>ç»§æ‰¿ <code>BaseAlgorithm</code> è€Œä¸æ˜¯ç›´æ¥å®ç° <code>IAlgorithm</code></li>
                    <li>åœ¨ <code>ExecuteInternal</code> ä¸­å®ç°æ ¸å¿ƒé€»è¾‘</li>
                    <li>ä½¿ç”¨ <code>Logger</code> è®°å½•å…³é”®ä¿¡æ¯</li>
                    <li>å¤„ç†å¼‚å¸¸å¹¶è¿”å›é”™è¯¯ç»“æœ</li>
                    <li>é‡Šæ”¾æ‰€æœ‰éæ‰˜ç®¡èµ„æº</li>
                </ul>

                <h3>æ’ä»¶å¼€å‘</h3>
                <ul>
                    <li>ç¡®ä¿æ’ä»¶å¯ä»¥å®‰å…¨åŠ è½½å’Œå¸è½½</li>
                    <li>é¿å…ä½¿ç”¨é™æ€å˜é‡</li>
                    <li>å¤„ç†æ’ä»¶ä¾èµ–å…³ç³»</li>
                    <li>æä¾›æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯</li>
                    <li>éµå¾ªæ’ä»¶å‘½åè§„èŒƒ</li>
                </ul>

                <h3>æ€§èƒ½ä¼˜åŒ–</h3>
                <ul>
                    <li>é‡ç”¨å›¾åƒå¯¹è±¡ï¼Œé¿å…é¢‘ç¹åˆ›å»º</li>
                    <li>ä½¿ç”¨å¹¶è¡Œå¤„ç†åŠ é€Ÿç®—æ³•</li>
                    <li>åˆç†è®¾ç½®å›¾åƒåˆ†è¾¨ç‡</li>
                    <li>ä½¿ç”¨å¯¹è±¡æ± å‡å°‘ GC å‹åŠ›</li>
                    <li>å¼‚æ­¥æ‰§è¡Œè€—æ—¶æ“ä½œ</li>
                </ul>
            </section>

            <footer class="footer">
                <p>&copy; 2026 SunEyeVision. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
            </footer>
        </main>
    </div>

    <script>
        // å¯¼èˆªå·²é€šè¿‡ a æ ‡ç­¾å®ç°ï¼Œæ— éœ€é¢å¤–è„šæœ¬
    </script>
</body>
</html>
