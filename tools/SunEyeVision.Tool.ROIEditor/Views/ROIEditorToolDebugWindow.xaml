<Window x:Class="SunEyeVision.Tool.ROIEditor.Views.ROIEditorToolDebugWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:roi="clr-namespace:SunEyeVision.Plugin.SDK.UI.Controls.ROI;assembly=SunEyeVision.Plugin.SDK"
        Title="ROI编辑器" Height="600" Width="800"
        WindowStartupLocation="CenterOwner"
        Background="White">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 标题栏 -->
        <Border Grid.Row="0" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1" Padding="12,6">
            <TextBlock x:Name="txtTitle" FontSize="16" FontWeight="Bold" Foreground="#333333" VerticalAlignment="Center"/>
        </Border>

        <!-- Tab区域 -->
        <TabControl Grid.Row="1" x:Name="MainTabControl" Margin="0" BorderThickness="0">
            <!-- 图像Tab -->
            <TabItem Header="图像">
                <StackPanel Orientation="Horizontal" Margin="12,8" VerticalAlignment="Top">
                    <Button Content="打开图像" Padding="16,6" FontSize="13"
                            Background="#1890FF" Foreground="White" BorderThickness="0"
                            Cursor="Hand" Click="OpenImage_Click"/>
                    <TextBlock x:Name="CurrentImageFileName" VerticalAlignment="Center" Margin="12,0,0,0"
                               Foreground="#666666" FontSize="12"/>
                </StackPanel>
            </TabItem>

            <!-- 参数Tab -->
            <TabItem Header="参数">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                    <StackPanel>
                        <!-- 编辑模式选择 -->
                        <GroupBox Header="编辑模式" Margin="0,0,0,12">
                            <StackPanel>
                                <RadioButton x:Name="EditModeRadio" Content="编辑模式 - 支持创建、编辑、删除" 
                                             IsChecked="True" Margin="0,4" Checked="EditModeRadio_Checked"/>
                                <RadioButton x:Name="InheritModeRadio" Content="继承模式 - 只读显示" 
                                             Margin="0,4" Checked="InheritModeRadio_Checked"/>
                            </StackPanel>
                        </GroupBox>

                        <!-- 显示选项 -->
                        <GroupBox Header="显示选项" Margin="0,0,0,12">
                            <StackPanel>
                                <CheckBox x:Name="ShowGridCheck" Content="显示网格" Margin="0,4"
                                          Checked="ShowGridCheck_Changed" Unchecked="ShowGridCheck_Changed"/>
                                <CheckBox x:Name="EnableSnapCheck" Content="启用网格吸附" IsChecked="True" Margin="0,4"
                                          Checked="EnableSnapCheck_Changed" Unchecked="EnableSnapCheck_Changed"/>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- ROI编辑Tab -->
            <TabItem Header="ROI编辑">
                <roi:ROIImageEditor x:Name="RoiEditor" Margin="0"/>
            </TabItem>

            <!-- 结果Tab -->
            <TabItem Header="结果">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="12">
                    <StackPanel>
                        <GroupBox Header="ROI统计" Margin="0,0,0,12">
                            <StackPanel>
                                <TextBlock x:Name="ROICountText" Text="ROI数量: 0" Margin="0,4"/>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="ROI列表" Margin="0,0,0,12">
                            <ListBox x:Name="ROIListBox" Height="200"/>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <!-- 底部操作栏 -->
        <Border Grid.Row="2" Background="White" BorderBrush="#E0E0E0" BorderThickness="0,1,0,0" Padding="12,8">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Content="运行" Padding="24,8" FontSize="13" FontWeight="Bold"
                        Background="#1890FF" Foreground="White" BorderThickness="0"
                        Cursor="Hand" Margin="0,0,8,0" Click="RunButton_Click"/>
                <Button Content="重置" Padding="24,8" FontSize="13"
                        Background="#F5F5F5" Foreground="#666666"
                        BorderBrush="#D9D9D9" BorderThickness="1"
                        Cursor="Hand" Click="ResetButton_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
