┌─────────────────────────────────────────────────────────────────────────────┐
│                           最终架构                                           │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                     Plugin.SDK 层                                    │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │                                                                     │   │
│  │  ToolViewModelBase                    (已有，无需修改)              │   │
│  │  ├─ RunTool()                                                       │   │
│  │  ├─ RunToolAsync()                                                  │   │
│  │  └─ ResetParameters()                                               │   │
│  │                                                                     │   │
│  │  BaseToolDebugWindow                  (增强)                        │   │
│  │  ├─ TabConfig 属性                    ← 新增：Tab配置               │   │
│  │  ├─ AddCustomTab()                    ← 新增：添加自定义Tab         │   │
│  │  ├─ HideTab()                         ← 新增：隐藏Tab               │   │
│  │  └─ SetTabHeader()                    ← 新增：修改Tab标题           │   │
│  │                                                                     │   │
│  │  BaseToolDebugWindow<TViewModel>      (新增)                        │   │
│  │  ├─ ViewModel 属性                    ← 自动关联                    │   │
│  │  ├─ Initialize()                      ← 统一初始化                  │   │
│  │  ├─ OnExecuteRequested()              ← 自动调用 RunTool()          │   │
│  │  └─ OnResetRequested()                ← 自动调用 ResetParameters()  │   │
│  │                                                                     │   │
│  │  预定义参数控件                        (已有，无需修改)              │   │
│  │  ├─ ParamSlider                      │   │
│  │  ├─ ParamComboBox                    │   │
│  │  ├─ ParamTextBox                     │   │
│  │  ├─ ParamGroup                       │   │
│  │  └─ LabeledControl                   │   │
│  │                                                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                     工具层                                 │   │
│  ├─────────────────────────────────────────────────────────────────────┤   │
│  │                                                                     │   │
│  │  标准视觉工具 (继承 BaseToolDebugWindow<TViewModel>)                │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │ public class XxxToolDebugWindow                              │   │   │
│  │  │     : BaseToolDebugWindow<XxxToolViewModel>                  │   │   │
│  │  │ {                                                            │   │   │
│  │  │     public XxxToolDebugWindow(...)                           │   │   │
│  │  │     {                                                        │   │   │
│  │  │         InitializeComponent();                               │   │   │
│  │  │         Initialize(toolId, toolPlugin, toolMetadata);        │   │   │
│  │  │     }                                                        │   │   │
│  │  │ }                                                            │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  │                                                                     │   │
│  │  特殊工具 (自定义 Window)                                           │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │ public class CalculatorWindow : Window { ... }               │   │   │
│  │  │ public class ScriptEditorWindow : Window { ... }             │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  │                                                                     │   │
│  │  无窗口工具 (返回 null)                                             │   │
│  │  ┌─────────────────────────────────────────────────────────────┐   │   │
│  │  │ bool ITool.HasDebugWindow => false;                          │   │   │
│  │  │ Window? ITool.CreateDebugWindow() => null;                   │   │   │
│  │  └─────────────────────────────────────────────────────────────┘   │   │
│  │                                                                     │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
