# ç”»å¸ƒä¼˜åŒ–å»ºè®®ä¸å¼€å‘è®¡åˆ’

> æ–‡æ¡£ç‰ˆæœ¬ï¼šv1.0
> åˆ›å»ºæ—¥æœŸï¼š2026-01-27
> æœ€åæ›´æ–°ï¼š2026-01-27

---

## ğŸ“Š ç›®å½•

- [ä¸€ã€å½“å‰ç”»å¸ƒå®ç°åˆ†æ](#ä¸€å½“å‰ç”»å¸ƒå®ç°åˆ†æ)
- [äºŒã€ä¼˜åŒ–å»ºè®®](#äºŒä¼˜åŒ–å»ºè®®)
- [ä¸‰ã€å¼€å‘è®¡åˆ’](#ä¸‰å¼€å‘è®¡åˆ’)
- [å››ã€é£é™©ç®¡ç†](#å››é£é™©ç®¡ç†)
- [äº”ã€æˆåŠŸæŒ‡æ ‡](#äº”æˆåŠŸæŒ‡æ ‡)

---

## ä¸€ã€å½“å‰ç”»å¸ƒå®ç°åˆ†æ

### 1.1 æ ¸å¿ƒç»„ä»¶æ¶æ„

#### WorkflowCanvasControl.xaml.csï¼ˆçº¦2300è¡Œï¼‰
- **æ–‡ä»¶ä½ç½®**ï¼š`SunEyeVision.UI/Controls/WorkflowCanvasControl.xaml.cs`
- **èŒè´£**ï¼šèŠ‚ç‚¹æ‹–æ‹½ã€è¿æ¥åˆ›å»ºã€æ¡†é€‰ã€ç«¯å£äº¤äº’
- **çŠ¶æ€ç®¡ç†**ï¼š35ä¸ªç§æœ‰å­—æ®µ
- **äº‹ä»¶å¤„ç†**ï¼š35ä¸ªç§æœ‰æ–¹æ³•

#### ä¸»è¦åŠŸèƒ½æ¨¡å—
1. **èŠ‚ç‚¹æ‹–æ‹½**ï¼šå•ä¸ªèŠ‚ç‚¹å’Œæ‰¹é‡èŠ‚ç‚¹æ‹–æ‹½
2. **è¿æ¥åˆ›å»º**ï¼šç«¯å£æ‹–æ‹½åˆ›å»ºè¿æ¥ã€æ™ºèƒ½è·¯å¾„è®¡ç®—
3. **æ¡†é€‰åŠŸèƒ½**ï¼šçŸ©å½¢æ¡†é€‰å¤šä¸ªèŠ‚ç‚¹
4. **ç«¯å£äº¤äº’**ï¼šç«¯å£é«˜äº®ã€ç«¯å£é€‰æ‹©
5. **è·¯å¾„è®¡ç®—**ï¼šæ™ºèƒ½ç›´è§’æŠ˜çº¿ã€éšœç¢ç‰©æ£€æµ‹

### 1.2 å½“å‰æ¶æ„é—®é¢˜

#### é—®é¢˜1ï¼šä»£ç æ–‡ä»¶è¿‡å¤§
- **å½±å“**ï¼šéš¾ä»¥ç»´æŠ¤ã€éš¾ä»¥æµ‹è¯•ã€èŒè´£æ··ä¹±
- **è¡¨ç°**ï¼š2300è¡Œä»£ç ï¼ŒåŒ…å«å¤šä¸ªä¸ç›¸å…³çš„åŠŸèƒ½

#### é—®é¢˜2ï¼šèŒè´£ä¸æ¸…æ™°
- **å½±å“**ï¼šä¿®æ”¹ä¸€ä¸ªåŠŸèƒ½å¯èƒ½å½±å“å…¶ä»–åŠŸèƒ½
- **è¡¨ç°**ï¼šèŠ‚ç‚¹æ‹–æ‹½ã€è¿æ¥åˆ›å»ºã€æ¡†é€‰éƒ½åœ¨åŒä¸€ä¸ªç±»ä¸­

#### é—®é¢˜3ï¼šæ€§èƒ½é—®é¢˜
- **å½±å“**ï¼šå¤§é‡èŠ‚ç‚¹æ—¶å¡é¡¿
- **è¡¨ç°**ï¼š
  - æ¯æ¬¡é¼ æ ‡ç§»åŠ¨éƒ½æ‰§è¡ŒHitTest
  - å¤§é‡è°ƒè¯•æ—¥å¿—è¾“å‡º
  - æ²¡æœ‰è™šæ‹ŸåŒ–æ¸²æŸ“

#### é—®é¢˜4ï¼šä»£ç è´¨é‡é—®é¢˜
- **å½±å“**ï¼šéš¾ä»¥ç»´æŠ¤ã€å®¹æ˜“å‡ºé”™
- **è¡¨ç°**ï¼š
  - å¤§é‡é­”æ³•æ•°å­—ï¼ˆ70, 45, 140, 90ç­‰ï¼‰
  - é‡å¤ä»£ç ï¼ˆç«¯å£ä½ç½®è®¡ç®—é‡å¤å¤šæ¬¡ï¼‰
  - ç¼ºå°‘å¼‚å¸¸å¤„ç†

#### é—®é¢˜5ï¼šåŠŸèƒ½ç¼ºå¤±
- **å½±å“**ï¼šç”¨æˆ·ä½“éªŒä¸ä½³
- **è¡¨ç°**ï¼š
  - æ²¡æœ‰æ’¤é”€/é‡åšåŠŸèƒ½
  - æ²¡æœ‰é”®ç›˜å¿«æ·é”®
  - æ²¡æœ‰ç¼©æ”¾å¹³ç§»
  - æ²¡æœ‰èŠ‚ç‚¹å¯¹é½

---

## äºŒã€ä¼˜åŒ–å»ºè®®

### 2.1 æ¶æ„ä¼˜åŒ–ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

#### å»ºè®®1ï¼šä»£ç æ‹†åˆ†

**ç›®æ ‡**ï¼šå°†2300è¡Œçš„WorkflowCanvasControlæ‹†åˆ†ä¸ºå¤šä¸ªèŒè´£å•ä¸€çš„ç±»

**å»ºè®®ç»“æ„**ï¼š
```
SunEyeVision.UI/
â”œâ”€â”€ Controls/
â”‚   â”œâ”€â”€ WorkflowCanvasControl.xaml.cs          # ä¸»æ§ç±»ï¼ˆçº¦500è¡Œï¼‰
â”‚   â””â”€â”€ Interaction/
â”‚       â”œâ”€â”€ NodeDragHandler.cs                 # èŠ‚ç‚¹æ‹–æ‹½å¤„ç†
â”‚       â”œâ”€â”€ ConnectionDragHandler.cs            # è¿æ¥æ‹–æ‹½å¤„ç†
â”‚       â”œâ”€â”€ BoxSelectionHandler.cs             # æ¡†é€‰å¤„ç†
â”‚       â””â”€â”€ PortInteractionHandler.cs          # ç«¯å£äº¤äº’å¤„ç†
â”œâ”€â”€ Rendering/
â”‚   â”œâ”€â”€ ConnectionRenderer.cs              # è¿æ¥çº¿æ¸²æŸ“
â”‚   â”œâ”€â”€ NodeRenderer.cs                    # èŠ‚ç‚¹æ¸²æŸ“
â”‚   â””â”€â”€ SelectionBoxRenderer.cs            # æ¡†é€‰æ¡†æ¸²æŸ“
â””â”€â”€ Behaviors/
    â”œâ”€â”€ ZoomPanBehavior.cs                 # ç¼©æ”¾å¹³ç§»è¡Œä¸º
    â”œâ”€â”€ KeyboardShortcutBehavior.cs         # é”®ç›˜å¿«æ·é”®
    â””â”€â”€ UndoRedoBehavior.cs                # æ’¤é”€é‡åš
```

**å®æ–½æ­¥éª¤**ï¼š
1. åˆ›å»º `NodeDragHandler` ç±»ï¼Œæå–èŠ‚ç‚¹æ‹–æ‹½ç›¸å…³ä»£ç ï¼ˆçº¦300è¡Œï¼‰
2. åˆ›å»º `ConnectionDragHandler` ç±»ï¼Œæå–è¿æ¥åˆ›å»ºä»£ç ï¼ˆçº¦500è¡Œï¼‰
3. åˆ›å»º `BoxSelectionHandler` ç±»ï¼Œæå–æ¡†é€‰ä»£ç ï¼ˆçº¦200è¡Œï¼‰
4. åˆ›å»º `PortInteractionHandler` ç±»ï¼Œæå–ç«¯å£äº¤äº’ä»£ç ï¼ˆçº¦300è¡Œï¼‰

**é¢„æœŸæ•ˆæœ**ï¼š
- ä¸»ç±»ä»£ç è¡Œæ•°å‡å°‘ 70%
- æ¯ä¸ªç±»èŒè´£å•ä¸€ï¼Œæ˜“äºæµ‹è¯•
- ä»£ç å¯ç»´æŠ¤æ€§å¤§å¹…æå‡

#### å»ºè®®2ï¼šå¼•å…¥å‘½ä»¤æ¨¡å¼

**ç›®æ ‡**ï¼šå®ç°æ’¤é”€/é‡åšåŠŸèƒ½ï¼Œæé«˜æ“ä½œçš„å¯è¿½æº¯æ€§

**å®ç°æ–¹æ¡ˆ**ï¼š

```csharp
// åˆ›å»ºå‘½ä»¤æ¥å£
public interface ICanvasCommand
{
    void Execute();
    void Undo();
    string Description { get; }
}

// å®ç°å…·ä½“å‘½ä»¤
public class MoveNodeCommand : ICanvasCommand
{
    private readonly WorkflowNode _node;
    private readonly Point _oldPosition;
    private readonly Point _newPosition;

    public void Execute() => _node.Position = _newPosition;
    public void Undo() => _node.Position = _oldPosition;
    public string Description => $"ç§»åŠ¨èŠ‚ç‚¹ {_node.Name}";
}

public class CreateConnectionCommand : ICanvasCommand
{
    private readonly WorkflowConnection _connection;
    private readonly ObservableCollection<WorkflowConnection> _connections;

    public void Execute() => _connections.Add(_connection);
    public void Undo() => _connections.Remove(_connection);
    public string Description => $"åˆ›å»ºè¿æ¥ {_connection.Id}";
}

// å‘½ä»¤ç®¡ç†å™¨
public class UndoRedoManager
{
    private readonly Stack<ICanvasCommand> _undoStack = new();
    private readonly Stack<ICanvasCommand> _redoStack = new();

    public void ExecuteCommand(ICanvasCommand command)
    {
        command.Execute();
        _undoStack.Push(command);
        _redoStack.Clear();
    }

    public void Undo()
    {
        if (_undoStack.Count == 0) return;
        var command = _undoStack.Pop();
        command.Undo();
        _redoStack.Push(command);
    }

    public void Redo()
    {
        if (_redoStack.Count == 0) return;
        var command = _redoStack.Pop();
        command.Execute();
        _undoStack.Push(command);
    }

    public bool CanUndo => _undoStack.Count > 0;
    public bool CanRedo => _redoStack.Count > 0;
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ”¯æŒæ’¤é”€/é‡åšæ“ä½œ
- å‘½ä»¤å†å²è®°å½•
- æ“ä½œå¯è¿½æº¯

### 2.2 æ€§èƒ½ä¼˜åŒ–ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

#### å»ºè®®3ï¼šå‡å°‘HitTestè°ƒç”¨

**é—®é¢˜**ï¼šæ¯æ¬¡é¼ æ ‡ç§»åŠ¨éƒ½æ‰§è¡ŒHitTestï¼Œæ€§èƒ½å¼€é”€å¤§

**å½“å‰ä»£ç **ï¼ˆWorkflowCanvasControl.xaml.cs:877-980ï¼‰ï¼š
```csharp
private void WorkflowCanvas_PreviewMouseMove(object sender, MouseEventArgs e)
{
    if (_isDraggingConnection)
    {
        // æ¯æ¬¡ç§»åŠ¨éƒ½æ‰§è¡ŒHitTest
        VisualTreeHelper.HitTest(WorkflowCanvas, null,
            result => { /* å¤„ç†å‘½ä¸­ç»“æœ */ },
            new PointHitTestParameters(currentPoint));
    }
}
```

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
```csharp
// 1. ä½¿ç”¨ç©ºé—´ç´¢å¼•ï¼ˆå››å‰æ ‘ï¼‰
private QuadTree<WorkflowNode> _nodeQuadTree;

// 2. é™åˆ¶HitTesté¢‘ç‡
private DateTime _lastHitTestTime = DateTime.MinValue;
private const int HitTestIntervalMs = 50; // 50msé—´éš”

private void WorkflowCanvas_PreviewMouseMove(object sender, MouseEventArgs e)
{
    if (_isDraggingConnection)
    {
        var now = DateTime.Now;
        if ((now - _lastHitTestTime).TotalMilliseconds < HitTestIntervalMs)
            return;

        _lastHitTestTime = now;

        // ä½¿ç”¨å››å‰æ ‘å¿«é€ŸæŸ¥æ‰¾
        var nearbyNodes = _nodeQuadTree.Query(currentPoint, 100);
        // å¤„ç†é™„è¿‘èŠ‚ç‚¹...
    }
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- HitTestè°ƒç”¨æ¬¡æ•°å‡å°‘ 60%
- æ‹–æ‹½å“åº”æ›´æµç•…
- CPUå ç”¨é™ä½

#### å»ºè®®4ï¼šä¼˜åŒ–æ—¥å¿—è¾“å‡º

**é—®é¢˜**ï¼šå¤§é‡è°ƒè¯•æ—¥å¿—å½±å“æ€§èƒ½

**å½“å‰ä»£ç **ï¼šWorkflowCanvasControl.xaml.cs ä¸­æœ‰100+å¤„æ—¥å¿—

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
```csharp
// 1. ä½¿ç”¨æ¡ä»¶ç¼–è¯‘
#if DEBUG
    _viewModel?.AddLog($"[Debug] è¯¦ç»†ä¿¡æ¯");
#endif

// 2. ä½¿ç”¨æ—¥å¿—çº§åˆ«
public enum LogLevel
{
    Error,
    Warning,
    Info,
    Debug
}

public void AddLog(LogLevel level, string message)
{
    if (level < CurrentLogLevel) return;
    // è¾“å‡ºæ—¥å¿—
}

// 3. ä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼å»¶è¿Ÿ
private void LogDebug(Func<string> messageFactory)
{
    if (IsDebugEnabled)
        _viewModel?.AddLog(messageFactory());
}

// ä½¿ç”¨
LogDebug(() => $"[Debug] è¯¦ç»†ä¿¡æ¯: {expensiveOperation()}");
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ—¥å¿—è¾“å‡ºä¸å½±å“æ€§èƒ½
- å¯åŠ¨æ€è°ƒæ•´æ—¥å¿—çº§åˆ«
- Releaseç‰ˆæœ¬æ— æ—¥å¿—å¼€é”€

#### å»ºè®®5ï¼šè™šæ‹ŸåŒ–æ¸²æŸ“

**é—®é¢˜**ï¼šå¤§é‡èŠ‚ç‚¹æ—¶æ¸²æŸ“æ€§èƒ½ä¸‹é™

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
```xaml
<!-- ä½¿ç”¨VirtualizingStackPanel -->
<ItemsControl ItemsSource="{Binding WorkflowNodes}">
    <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
            <VirtualizingStackPanel IsVirtualizing="True"
                                  VirtualizationMode="Recycling"/>
        </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>
</ItemsControl>
```

**é¢„æœŸæ•ˆæœ**ï¼š
- å¤§é‡èŠ‚ç‚¹åœºæ™¯ä¸‹æ€§èƒ½æå‡
- å†…å­˜å ç”¨é™ä½
- æ»šåŠ¨æ›´æµç•…

### 2.3 ä»£ç è´¨é‡ä¼˜åŒ–ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

#### å»ºè®®6ï¼šæ¶ˆé™¤é­”æ³•æ•°å­—

**é—®é¢˜**ï¼šä»£ç ä¸­å¤§é‡ç¡¬ç¼–ç æ•°å­—

**å½“å‰ä»£ç **ï¼š
```csharp
var nodeCenterX = hitNode.Position.X + 70;  // 140/2
var nodeCenterY = hitNode.Position.Y + 45;  // 90/2
```

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
```csharp
// åˆ›å»ºé…ç½®ç±»
public class CanvasConfig
{
    public static readonly double NodeWidth = 140;
    public static readonly double NodeHeight = 90;
    public static readonly double PortSize = 14;
    public static readonly double PortHoverSize = 18;
    public static readonly double HitTestDistance = 30;
    public static readonly double ConnectionStrokeThickness = 2;
    public static readonly double ArrowSize = 10;
    public static readonly double GridSize = 20;
    public static readonly double SnapDistance = 10;
}

// ä½¿ç”¨
var nodeCenterX = hitNode.Position.X + CanvasConfig.NodeWidth / 2;
var nodeCenterY = hitNode.Position.Y + CanvasConfig.NodeHeight / 2;
```

**é¢„æœŸæ•ˆæœ**ï¼š
- ä»£ç å¯è¯»æ€§æå‡
- é…ç½®é›†ä¸­ç®¡ç†
- æ˜“äºè°ƒæ•´å‚æ•°

#### å»ºè®®7ï¼šæå–é‡å¤ä»£ç 

**é—®é¢˜**ï¼šç«¯å£ä½ç½®è®¡ç®—é‡å¤å¤šæ¬¡

**å½“å‰ä»£ç **ï¼ˆWorkflowCanvasControl.xaml.cs:1560-1590ï¼‰ï¼š
```csharp
// åœ¨å¤šä¸ªåœ°æ–¹é‡å¤
switch (_dragConnectionSourcePort)
{
    case "TopPort":
        sourcePos = sourceNode.TopPortPosition;
        break;
    case "BottomPort":
        sourcePos = sourceNode.BottomPortPosition;
        break;
    // ...
}
```

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
```csharp
// æå–ä¸ºè¾…åŠ©æ–¹æ³•
private Point GetPortPosition(WorkflowNode node, string portName)
{
    return portName switch
    {
        "TopPort" => node.TopPortPosition,
        "BottomPort" => node.BottomPortPosition,
        "LeftPort" => node.LeftPortPosition,
        "RightPort" => node.RightPortPosition,
        _ => node.RightPortPosition
    };
}

// ä½¿ç”¨
sourcePos = GetPortPosition(sourceNode, _dragConnectionSourcePort);
```

**é¢„æœŸæ•ˆæœ**ï¼š
- ä»£ç é‡å¤å‡å°‘
- ç»´æŠ¤æˆæœ¬é™ä½
- å‡å°‘bugé£é™©

#### å»ºè®®8ï¼šæ”¹è¿›å¼‚å¸¸å¤„ç†

**é—®é¢˜**ï¼šç¼ºå°‘å¼‚å¸¸å¤„ç†ï¼Œå®¹æ˜“å´©æºƒ

**ä¼˜åŒ–æ–¹æ¡ˆ**ï¼š
```csharp
// åœ¨å…³é”®æ“ä½œä¸­æ·»åŠ å¼‚å¸¸å¤„ç†
private void CreateConnection(WorkflowNode sourceNode, WorkflowNode targetNode)
{
    try
    {
        // éªŒè¯è¾“å…¥
        if (sourceNode == null || targetNode == null)
            throw new ArgumentNullException("èŠ‚ç‚¹ä¸èƒ½ä¸ºnull");

        if (sourceNode.Id == targetNode.Id)
            throw new InvalidOperationException("ä¸å…è®¸è‡ªè¿æ¥");

        // æ‰§è¡Œæ“ä½œ
        var connection = new WorkflowConnection(...);
        CurrentWorkflowTab?.WorkflowConnections.Add(connection);
    }
    catch (Exception ex)
    {
        _viewModel?.AddLog(LogLevel.Error, $"åˆ›å»ºè¿æ¥å¤±è´¥: {ex.Message}");
        // å¯é€‰ï¼šæ˜¾ç¤ºç”¨æˆ·å‹å¥½çš„é”™è¯¯æ¶ˆæ¯
        MessageBox.Show($"åˆ›å»ºè¿æ¥å¤±è´¥: {ex.Message}", "é”™è¯¯",
                       MessageBoxButton.OK, MessageBoxImage.Error);
    }
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- ç¨‹åºç¨³å®šæ€§æå‡
- é”™è¯¯ä¿¡æ¯å‹å¥½
- ä¾¿äºé—®é¢˜æ’æŸ¥

### 2.4 åŠŸèƒ½å¢å¼ºï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰

#### å»ºè®®9ï¼šé”®ç›˜å¿«æ·é”®

**å®ç°æ–¹æ¡ˆ**ï¼š
```csharp
// å¿«æ·é”®é…ç½®
public class KeyboardShortcutConfig
{
    public static readonly Dictionary<Key, Action> Shortcuts = new()
    {
        { Key.Delete, DeleteSelected },
        { Key.Z, Undo },              // Ctrl+Z
        { Key.Y, Redo },              // Ctrl+Y
        { Key.C, Copy },              // Ctrl+C
        { Key.V, Paste },             // Ctrl+V
        { Key.X, Cut },               // Ctrl+X
        { Key.A, SelectAll },          // Ctrl+A
        { Key.D, Duplicate },         // Ctrl+D
        { Key.F, Find },              // Ctrl+F
        { Key.G, Group },             // Ctrl+G
        { Key.U, Ungroup },           // Ctrl+U
    };
}

private void WorkflowCanvas_PreviewKeyDown(object sender, KeyEventArgs e)
{
    if (Keyboard.Modifiers == ModifierKeys.Control &&
        KeyboardShortcutConfig.Shortcuts.TryGetValue(e.Key, out var action))
    {
        action();
        e.Handled = true;
    }
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ“ä½œæ•ˆç‡æå‡
- ç¬¦åˆç”¨æˆ·ä¹ æƒ¯
- æå‡ä¸“ä¸šåº¦

#### å»ºè®®10ï¼šç¼©æ”¾å’Œå¹³ç§»

**å®ç°æ–¹æ¡ˆ**ï¼š
```csharp
public class ZoomPanBehavior
{
    private double _scale = 1.0;
    private Point _offset = new(0, 0);
    private const double MinScale = 0.1;
    private const double MaxScale = 5.0;

    public void Zoom(double delta, Point center)
    {
        double newScale = _scale * delta;
        newScale = Math.Max(MinScale, Math.Min(MaxScale, newScale));

        // è°ƒæ•´offsetä»¥ä¿æŒä¸­å¿ƒç‚¹ä¸å˜
        _offset.X = center.X - (center.X - _offset.X) * (newScale / _scale);
        _offset.Y = center.Y - (center.Y - _offset.Y) * (newScale / _scale);

        _scale = newScale;
        ApplyTransform();
    }

    public void Pan(Vector delta)
    {
        _offset += delta;
        ApplyTransform();
    }

    private void ApplyTransform()
    {
        WorkflowCanvas.RenderTransform = new TransformGroup
        {
            Children = new TransformCollection
            {
                new TranslateTransform(_offset.X, _offset.Y),
                new ScaleTransform(_scale, _scale)
            }
        };
    }
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ”¯æŒå¤§ç”»å¸ƒæŸ¥çœ‹
- æå‡ç”¨æˆ·ä½“éªŒ
- ä¾¿äºç²¾ç»†æ“ä½œ

#### å»ºè®®11ï¼šèŠ‚ç‚¹å¯¹é½å’Œå¸é™„

**å®ç°æ–¹æ¡ˆ**ï¼š
```csharp
public class SnapHelper
{
    private const double SnapDistance = 10;
    private const double GridSize = 20;

    public static Point SnapToGrid(Point point)
    {
        double x = Math.Round(point.X / GridSize) * GridSize;
        double y = Math.Round(point.Y / GridSize) * GridSize;
        return new Point(x, y);
    }

    public static Point SnapToNodes(Point point, IEnumerable<WorkflowNode> nodes)
    {
        foreach (var node in nodes)
        {
            // æ£€æŸ¥æ°´å¹³å¯¹é½
            if (Math.Abs(point.Y - node.Position.Y) < SnapDistance)
                point = new Point(point.X, node.Position.Y);

            // æ£€æŸ¥å‚ç›´å¯¹é½
            if (Math.Abs(point.X - node.Position.X) < SnapDistance)
                point = new Point(node.Position.X, point.Y);

            // æ£€æŸ¥ä¸­å¿ƒå¯¹é½
            double centerX = node.Position.X + CanvasConfig.NodeWidth / 2;
            double centerY = node.Position.Y + CanvasConfig.NodeHeight / 2;

            if (Math.Abs(point.X - centerX) < SnapDistance)
                point = new Point(centerX, point.Y);

            if (Math.Abs(point.Y - centerY) < SnapDistance)
                point = new Point(point.X, centerY);
        }

        return point;
    }
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- èŠ‚ç‚¹å¸ƒå±€æ›´æ•´é½
- æå‡è§†è§‰è´¨é‡
- å‡å°‘æ‰‹åŠ¨è°ƒæ•´

#### å»ºè®®12ï¼šæ‹–æ‹½é¢„è§ˆ

**å®ç°æ–¹æ¡ˆ**ï¼š
```csharp
// æ˜¾ç¤ºæ‹–æ‹½é¢„è§ˆ
private void ShowDragPreview(WorkflowNode node, Point position)
{
    var preview = new Border
    {
        Width = CanvasConfig.NodeWidth,
        Height = CanvasConfig.NodeHeight,
        Background = new SolidColorBrush(Color.FromArgb(128, 0, 102, 204)),
        BorderBrush = new SolidColorBrush(Colors.Orange),
        BorderThickness = new Thickness(2),
        Opacity = 0.7
    };

    Canvas.SetLeft(preview, position.X);
    Canvas.SetTop(preview, position.Y);
    WorkflowCanvas.Children.Add(preview);
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ‹–æ‹½ä½“éªŒæ›´æµç•…
- æä¾›è§†è§‰åé¦ˆ
- å‡å°‘è¯¯æ“ä½œ

#### å»ºè®®13ï¼šè¿æ¥éªŒè¯æç¤º

**å®ç°æ–¹æ¡ˆ**ï¼š
```csharp
// æ˜¾ç¤ºè¿æ¥éªŒè¯æç¤º
private void ShowConnectionValidation(bool isValid, string message)
{
    var tooltip = new ToolTip
    {
        Content = message,
        Background = isValid ?
            new SolidColorBrush(Colors.LightGreen) :
            new SolidColorBrush(Colors.LightCoral)
    };

    // åœ¨é¼ æ ‡ä½ç½®æ˜¾ç¤º
    tooltip.IsOpen = true;
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- å‡å°‘é”™è¯¯æ“ä½œ
- æä¾›å³æ—¶åé¦ˆ
- æå‡ç”¨æˆ·ä½“éªŒ

### 2.5 ç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

#### å»ºè®®14ï¼šåŠ¨ç”»æ•ˆæœ

**å®ç°æ–¹æ¡ˆ**ï¼š
```xaml
<!-- æ·»åŠ èŠ‚ç‚¹å‡ºç°åŠ¨ç”» -->
<Border.Triggers>
    <EventTrigger RoutedEvent="Loaded">
        <BeginStoryboard>
            <Storyboard>
                <DoubleAnimation Storyboard.TargetProperty="Opacity"
                               From="0" To="1" Duration="0:0:0.3"/>
                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                               From="0.5" To="1" Duration="0:0:0.3">
                    <DoubleAnimation.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.3"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
            </Storyboard>
        </BeginStoryboard>
    </EventTrigger>
</Border.Triggers>
```

**é¢„æœŸæ•ˆæœ**ï¼š
- è§†è§‰ä½“éªŒæ›´æµç•…
- æå‡ä¸“ä¸šæ„Ÿ
- å¢å¼ºäº¤äº’åé¦ˆ

#### å»ºè®®15ï¼šèŠ‚ç‚¹åˆ†ç»„

**å®ç°æ–¹æ¡ˆ**ï¼š
```csharp
public class NodeGroup
{
    public string Id { get; set; }
    public string Name { get; set; }
    public ObservableCollection<WorkflowNode> Nodes { get; set; }
    public Rect Bounds { get; set; }
    public bool IsExpanded { get; set; }
}

// åœ¨WorkflowCanvasControlä¸­æ·»åŠ 
public ObservableCollection<NodeGroup> Groups { get; set; }

// åˆ†ç»„æ“ä½œ
public void GroupSelectedNodes()
{
    var selectedNodes = GetSelectedNodes();
    if (selectedNodes.Count < 2) return;

    var group = new NodeGroup
    {
        Id = Guid.NewGuid().ToString(),
        Name = $"Group {Groups.Count + 1}",
        Nodes = new ObservableCollection<WorkflowNode>(selectedNodes),
        IsExpanded = true
    };

    Groups.Add(group);
}
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ”¯æŒå¤æ‚å·¥ä½œæµ
- ä¾¿äºç®¡ç†å¤§é‡èŠ‚ç‚¹
- æå‡ç»„ç»‡èƒ½åŠ›

#### å»ºè®®16ï¼šå¤šè¯­è¨€æ”¯æŒ

**å®ç°æ–¹æ¡ˆ**ï¼š
```csharp
// èµ„æºå­—å…¸
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:system="clr-namespace:System;assembly=mscorlib">
    <system:String x:Key="NodeDelete">åˆ é™¤èŠ‚ç‚¹</system:String>
    <system:String x:Key="ConnectionCreate">åˆ›å»ºè¿æ¥</system:String>
    <system:String x:Key="Undo">æ’¤é”€</system:String>
    <system:String x:Key="Redo">é‡åš</system:String>
</ResourceDictionary>

// ä½¿ç”¨
<TextBlock Text="{DynamicResource NodeDelete}"/>
```

**é¢„æœŸæ•ˆæœ**ï¼š
- æ”¯æŒå›½é™…åŒ–
- æ‰©å±•ç”¨æˆ·ç¾¤ä½“
- æå‡äº§å“ç«äº‰åŠ›

---

## ä¸‰ã€å¼€å‘è®¡åˆ’

### 3.1 ç¬¬ä¸€é˜¶æ®µï¼šæ¶æ„é‡æ„ï¼ˆç¬¬1-2å‘¨ï¼‰

#### ç›®æ ‡
- å°†2300è¡Œçš„WorkflowCanvasControlæ‹†åˆ†ä¸ºå¤šä¸ªèŒè´£å•ä¸€çš„ç±»
- æé«˜ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§

#### Week 1: åŸºç¡€æ¶æ„æ­å»º

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| arch-1 | åˆ›å»ºInteractionç›®å½•ç»“æ„ï¼Œæ‹†åˆ†èŠ‚ç‚¹æ‹–æ‹½å¤„ç†é€»è¾‘åˆ°NodeDragHandlerç±» | 8h | - | é«˜ |
| arch-2 | åˆ›å»ºConnectionDragHandlerç±»ï¼Œæå–è¿æ¥åˆ›å»ºå’Œæ‹–æ‹½é€»è¾‘ | 12h | arch-1 | é«˜ |
| arch-3 | åˆ›å»ºBoxSelectionHandlerç±»ï¼Œæå–æ¡†é€‰åŠŸèƒ½ | 6h | arch-1 | é«˜ |
| arch-4 | åˆ›å»ºPortInteractionHandlerç±»ï¼Œæå–ç«¯å£äº¤äº’é€»è¾‘ | 8h | arch-1 | é«˜ |
| code-1 | åˆ›å»ºCanvasConfigé…ç½®ç±»ï¼Œæ¶ˆé™¤é­”æ³•æ•°å­— | 4h | - | é«˜ |
| code-2 | æå–GetPortPositionç­‰é‡å¤ä»£ç ä¸ºè¾…åŠ©æ–¹æ³• | 4h | - | é«˜ |

#### Week 2: é‡æ„é›†æˆ

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| arch-5 | é‡æ„WorkflowCanvasControlä¸»ç±»ï¼Œä½¿ç”¨æ–°çš„å¤„ç†å™¨ç±» | 16h | arch-1~arch-4 | é«˜ |
| test-1 | ä¸ºNodeDragHandlerç¼–å†™å•å…ƒæµ‹è¯• | 6h | arch-1 | é«˜ |
| test-2 | ä¸ºConnectionDragHandlerç¼–å†™å•å…ƒæµ‹è¯• | 8h | arch-2 | é«˜ |

#### äº¤ä»˜ç‰©
- âœ… æ¸…æ™°çš„ä»£ç ç»“æ„ï¼Œæ¯ä¸ªç±»èŒè´£å•ä¸€
- âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%
- âœ… ä»£ç å®¡æŸ¥é€šè¿‡

---

### 3.2 ç¬¬äºŒé˜¶æ®µï¼šå‘½ä»¤æ¨¡å¼å®ç°ï¼ˆç¬¬3å‘¨ï¼‰

#### ç›®æ ‡
- å®ç°æ’¤é”€/é‡åšåŠŸèƒ½
- æé«˜æ“ä½œçš„å¯è¿½æº¯æ€§

#### ä»»åŠ¡åˆ†è§£

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| cmd-1 | è®¾è®¡å¹¶å®ç°ICanvasCommandæ¥å£ | 4h | - | é«˜ |
| cmd-2 | å®ç°MoveNodeCommandã€CreateConnectionCommandç­‰å…·ä½“å‘½ä»¤ | 12h | cmd-1 | é«˜ |
| cmd-3 | å®ç°UndoRedoManagerç®¡ç†å™¨ | 8h | cmd-2 | é«˜ |
| cmd-4 | åœ¨WorkflowCanvasControlä¸­é›†æˆæ’¤é”€é‡åšåŠŸèƒ½ | 8h | cmd-3, arch-5 | é«˜ |
| test-3 | ä¸ºå‘½ä»¤æ¨¡å¼ç¼–å†™å•å…ƒæµ‹è¯• | 8h | cmd-2 | é«˜ |

#### äº¤ä»˜ç‰©
- âœ… æ”¯æŒæ’¤é”€/é‡åšæ“ä½œ
- âœ… å‘½ä»¤å†å²è®°å½•
- âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 85%

---

### 3.3 ç¬¬ä¸‰é˜¶æ®µï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆç¬¬4å‘¨ï¼‰

#### ç›®æ ‡
- ä¼˜åŒ–HitTestè°ƒç”¨é¢‘ç‡
- æå‡å¤§é‡èŠ‚ç‚¹åœºæ™¯ä¸‹çš„æ€§èƒ½

#### ä»»åŠ¡åˆ†è§£

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| perf-1 | å®ç°èŠ‚ç‚¹å››å‰æ ‘ç´¢å¼•ï¼Œä¼˜åŒ–èŠ‚ç‚¹æŸ¥æ‰¾ | 12h | - | é«˜ |
| perf-2 | ä¼˜åŒ–HitTestè°ƒç”¨é¢‘ç‡ï¼Œæ·»åŠ æ—¶é—´é—´éš”æ§åˆ¶ | 6h | perf-1 | é«˜ |
| perf-3 | ä½¿ç”¨æ¡ä»¶ç¼–è¯‘ä¼˜åŒ–è°ƒè¯•æ—¥å¿—è¾“å‡º | 4h | - | ä¸­ |
| perf-4 | å®ç°æ—¥å¿—çº§åˆ«æ§åˆ¶ï¼ˆErrorã€Warningã€Infoã€Debugï¼‰ | 6h | perf-3 | ä¸­ |

#### æ€§èƒ½æŒ‡æ ‡
- âœ… 100ä¸ªèŠ‚ç‚¹åœºæ™¯ä¸‹ï¼Œæ‹–æ‹½å“åº”æ—¶é—´ < 50ms
- âœ… HitTestè°ƒç”¨æ¬¡æ•°å‡å°‘ 60%
- âœ… æ—¥å¿—è¾“å‡ºä¸å½±å“æ€§èƒ½

---

### 3.4 ç¬¬å››é˜¶æ®µï¼šåŠŸèƒ½å¢å¼ºï¼ˆç¬¬5-6å‘¨ï¼‰

#### ç›®æ ‡
- å®ç°é”®ç›˜å¿«æ·é”®
- æ”¯æŒç¼©æ”¾å¹³ç§»
- æ·»åŠ èŠ‚ç‚¹å¯¹é½åŠŸèƒ½

#### Week 5: æ ¸å¿ƒåŠŸèƒ½

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| feature-1 | å®ç°é”®ç›˜å¿«æ·é”®ç³»ç»Ÿï¼ˆDeleteã€Ctrl+Zã€Ctrl+Yç­‰ï¼‰ | 8h | cmd-4 | ä¸­ |
| feature-2 | å®ç°ZoomPanBehaviorï¼Œæ”¯æŒç”»å¸ƒç¼©æ”¾å’Œå¹³ç§» | 12h | - | ä¸­ |
| feature-3 | å®ç°SnapHelperï¼Œæ”¯æŒèŠ‚ç‚¹å¯¹é½å’Œç½‘æ ¼å¸é™„ | 8h | - | ä¸­ |
| code-3 | åœ¨å…³é”®æ“ä½œä¸­æ·»åŠ å¼‚å¸¸å¤„ç†å’Œç”¨æˆ·å‹å¥½æç¤º | 6h | - | ä¸­ |

#### Week 6: ç”¨æˆ·ä½“éªŒ

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| feature-4 | æ·»åŠ æ‹–æ‹½é¢„è§ˆæ•ˆæœ | 6h | - | ä¸­ |
| feature-5 | æ·»åŠ è¿æ¥éªŒè¯æç¤º | 6h | - | ä¸­ |
| test-4 | ä¸ºå…³é”®åŠŸèƒ½ç¼–å†™é›†æˆæµ‹è¯• | 12h | feature-1~feature-5 | ä¸­ |

#### äº¤ä»˜ç‰©
- âœ… å®Œæ•´çš„é”®ç›˜å¿«æ·é”®æ”¯æŒ
- âœ… ç”»å¸ƒç¼©æ”¾å¹³ç§»åŠŸèƒ½
- âœ… èŠ‚ç‚¹è‡ªåŠ¨å¯¹é½
- âœ… é›†æˆæµ‹è¯•é€šè¿‡

---

### 3.5 ç¬¬äº”é˜¶æ®µï¼šç”¨æˆ·ä½“éªŒä¼˜åŒ–ï¼ˆç¬¬7-8å‘¨ï¼‰

#### ç›®æ ‡
- æå‡è§†è§‰æ•ˆæœ
- å¢å¼ºç”¨æˆ·äº¤äº’ä½“éªŒ

#### Week 7: è§†è§‰æ•ˆæœ

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| ui-1 | æ·»åŠ èŠ‚ç‚¹å‡ºç°åŠ¨ç”»æ•ˆæœ | 8h | - | ä½ |
| ui-2 | ä¼˜åŒ–è¿æ¥çº¿æ¸²æŸ“æ€§èƒ½ | 10h | - | ä½ |

#### Week 8: é«˜çº§åŠŸèƒ½

| ä»»åŠ¡ID | ä»»åŠ¡æè¿° | é¢„è®¡å·¥æ—¶ | ä¾èµ– | ä¼˜å…ˆçº§ |
|--------|---------|---------|------|--------|
| ui-3 | å®ç°èŠ‚ç‚¹åˆ†ç»„åŠŸèƒ½ | 16h | - | ä½ |
| ui-4 | å®ç°å¤šè¯­è¨€æ”¯æŒæ¡†æ¶ | 12h | - | ä½ |

#### äº¤ä»˜ç‰©
- âœ… æµç•…çš„åŠ¨ç”»æ•ˆæœ
- âœ… èŠ‚ç‚¹åˆ†ç»„åŠŸèƒ½
- âœ… å¤šè¯­è¨€æ”¯æŒ

---

### 3.6 é¡¹ç›®é‡Œç¨‹ç¢‘

| é‡Œç¨‹ç¢‘ | æ—¶é—´ | äº¤ä»˜å†…å®¹ | éªŒæ”¶æ ‡å‡† |
|--------|------|---------|---------|
| M1: æ¶æ„é‡æ„å®Œæˆ | ç¬¬2å‘¨æœ« | é‡æ„åçš„ä»£ç ç»“æ„ | ä»£ç å®¡æŸ¥é€šè¿‡ï¼Œå•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80% |
| M2: å‘½ä»¤æ¨¡å¼å®ç° | ç¬¬3å‘¨æœ« | æ’¤é”€/é‡åšåŠŸèƒ½ | åŠŸèƒ½æµ‹è¯•é€šè¿‡ï¼Œç”¨æˆ·ä½“éªŒè‰¯å¥½ |
| M3: æ€§èƒ½ä¼˜åŒ–å®Œæˆ | ç¬¬4å‘¨æœ« | æ€§èƒ½ä¼˜åŒ–ç‰ˆæœ¬ | æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡ï¼Œæ— æ˜æ˜¾å¡é¡¿ |
| M4: åŠŸèƒ½å¢å¼ºå®Œæˆ | ç¬¬6å‘¨æœ« | åŠŸèƒ½å¢å¼ºç‰ˆæœ¬ | æ‰€æœ‰æ–°åŠŸèƒ½æµ‹è¯•é€šè¿‡ |
| M5: ç”¨æˆ·ä½“éªŒä¼˜åŒ– | ç¬¬8å‘¨æœ« | æœ€ç»ˆä¼˜åŒ–ç‰ˆæœ¬ | ç”¨æˆ·æ»¡æ„åº¦ > 90% |

---

## å››ã€é£é™©ç®¡ç†

### 4.1 é«˜é£é™©é¡¹

| é£é™© | å½±å“ | æ¦‚ç‡ | åº”å¯¹æªæ–½ |
|------|------|------|---------|
| é‡æ„å¼•å…¥æ–°bug | é«˜ | ä¸­ | å……åˆ†æµ‹è¯•ï¼Œä»£ç å®¡æŸ¥ï¼Œåˆ†é˜¶æ®µå‘å¸ƒ |
| æ€§èƒ½ä¼˜åŒ–æ•ˆæœä¸æ˜æ˜¾ | ä¸­ | ä½ | æå‰æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼ŒæŒç»­ç›‘æ§ |
| åŠŸèƒ½å¼€å‘å»¶æœŸ | ä¸­ | ä¸­ | åˆç†æ’æœŸï¼Œé¢„ç•™ç¼“å†²æ—¶é—´ |

### 4.2 åº”å¯¹ç­–ç•¥

#### 1. ä»£ç å®¡æŸ¥
- æ‰€æœ‰ä»£ç å¿…é¡»ç»è¿‡è‡³å°‘2äººå®¡æŸ¥
- ä½¿ç”¨ä»£ç å®¡æŸ¥æ¸…å•
- è®°å½•å®¡æŸ¥æ„è§å’Œä¿®æ”¹

#### 2. æŒç»­é›†æˆ
- æ¯æ¬¡æäº¤è‡ªåŠ¨è¿è¡Œæµ‹è¯•
- è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²
- åŠæ—¶å‘ç°å’Œä¿®å¤é—®é¢˜

#### 3. åˆ†é˜¶æ®µå‘å¸ƒ
- æ¯ä¸ªé˜¶æ®µå®Œæˆåè¿›è¡Œå°èŒƒå›´æµ‹è¯•
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- å¿«é€Ÿè¿­ä»£å’Œä¼˜åŒ–

#### 4. å›æ»šæœºåˆ¶
- ä¿ç•™æ—§ç‰ˆæœ¬
- å¿…è¦æ—¶å¿«é€Ÿå›æ»š
- æœ€å°åŒ–å½±å“èŒƒå›´

---

## äº”ã€æˆåŠŸæŒ‡æ ‡

### 5.1 æŠ€æœ¯æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹æ³• |
|------|--------|--------|---------|
| ä»£ç è¡Œæ•° | 2300è¡Œ | 1400è¡Œ | ç»Ÿè®¡ä»£ç è¡Œæ•° |
| å•å…ƒæµ‹è¯•è¦†ç›–ç‡ | 0% | >85% | æµ‹è¯•è¦†ç›–ç‡å·¥å…· |
| æ€§èƒ½ï¼ˆ100èŠ‚ç‚¹ï¼‰ | å¡é¡¿ | <50mså“åº” | æ€§èƒ½æµ‹è¯•å·¥å…· |
| Bugç‡ | åŸºå‡† | é™ä½60% | Bugè·Ÿè¸ªç³»ç»Ÿ |

### 5.2 ä¸šåŠ¡æŒ‡æ ‡

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹æ³• |
|------|--------|--------|---------|
| ç”¨æˆ·æ“ä½œæ•ˆç‡ | åŸºå‡† | æå‡30% | ç”¨æˆ·æµ‹è¯• |
| ç”¨æˆ·æ»¡æ„åº¦ | åŸºå‡† | >90% | ç”¨æˆ·è°ƒæŸ¥ |
| åŠŸèƒ½å®Œæˆç‡ | åŸºå‡† | 100% | ä»»åŠ¡è·Ÿè¸ª |

---

## å…­ã€å®æ–½å»ºè®®

### 6.1 ä¼˜å…ˆçº§æ’åº

#### ç«‹å³å¼€å§‹ï¼ˆç¬¬1å‘¨ï¼‰
- âœ… arch-1ï¼šåˆ›å»ºInteractionç›®å½•ç»“æ„
- âœ… code-1ï¼šåˆ›å»ºCanvasConfigé…ç½®ç±»
- âœ… code-2ï¼šæå–è¾…åŠ©æ–¹æ³•

#### ç¬¬1å‘¨å®Œæˆ
- âœ… arch-1~arch-4ï¼šåˆ›å»ºæ‰€æœ‰å¤„ç†å™¨ç±»
- âœ… code-1~code-2ï¼šé…ç½®ç±»å’Œè¾…åŠ©æ–¹æ³•

#### ç¬¬2å‘¨å®Œæˆ
- âœ… arch-5ï¼šé‡æ„ä¸»ç±»
- âœ… test-1~test-2ï¼šå•å…ƒæµ‹è¯•

### 6.2 å›¢é˜Ÿåä½œ

#### å¼€å‘å›¢é˜Ÿ
- ä¸“æ³¨äºæ¶æ„é‡æ„å’ŒåŠŸèƒ½å®ç°
- éµå¾ªç¼–ç è§„èŒƒ
- ç¼–å†™å•å…ƒæµ‹è¯•

#### æµ‹è¯•å›¢é˜Ÿ
- åŒæ­¥ç¼–å†™å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- æ‰§è¡Œæµ‹è¯•è®¡åˆ’
- æŠ¥å‘Šæµ‹è¯•ç»“æœ

#### äº§å“å›¢é˜Ÿ
- æä¾›ç”¨æˆ·åé¦ˆ
- ç¡®è®¤éœ€æ±‚ä¼˜å…ˆçº§
- éªŒæ”¶åŠŸèƒ½å®Œæˆ

### 6.3 è´¨é‡ä¿è¯

#### 1. æ¯æ—¥ç«™ä¼š
- åŒæ­¥è¿›åº¦
- è¯†åˆ«é˜»å¡
- åè°ƒèµ„æº

#### 2. æ¯å‘¨ä»£ç å®¡æŸ¥
- å®¡æŸ¥ä»£ç è´¨é‡
- å‘ç°æ½œåœ¨é—®é¢˜
- åˆ†äº«æœ€ä½³å®è·µ

#### 3. æ¯ä¸ªé‡Œç¨‹ç¢‘éªŒæ”¶
- åŠŸèƒ½æµ‹è¯•
- æ€§èƒ½æµ‹è¯•
- ç”¨æˆ·éªŒæ”¶

### 6.4 æŒç»­æ”¹è¿›

#### 1. æ”¶é›†ç”¨æˆ·åé¦ˆ
- å®šæœŸç”¨æˆ·è®¿è°ˆ
- é—®å·è°ƒæŸ¥
- ä½¿ç”¨æ•°æ®åˆ†æ

#### 2. ç›‘æ§æ€§èƒ½æŒ‡æ ‡
- å®æ—¶ç›‘æ§
- å®šæœŸæŠ¥å‘Š
- è¶‹åŠ¿åˆ†æ

#### 3. ä¼˜åŒ–å¼€å‘æµç¨‹
- å›é¡¾æ¯ä¸ªé˜¶æ®µ
- æ€»ç»“ç»éªŒæ•™è®­
- æ”¹è¿›æµç¨‹

---

## ä¸ƒã€é™„å½•

### 7.1 ç›¸å…³æ–‡æ¡£

- [è¿çº¿å¼€å‘è®¡åˆ’.md](./è¿çº¿å¼€å‘è®¡åˆ’.md)
- [DEBUG_INTERFACE_TEST_GUIDE.md](./DEBUG_INTERFACE_TEST_GUIDE.md)
- [DEVELOPMENT_LOG.md](./DEVELOPMENT_LOG.md)

### 7.2 å‚è€ƒèµ„æ–™

- WPFæœ€ä½³å®è·µ
- è®¾è®¡æ¨¡å¼ï¼šå‘½ä»¤æ¨¡å¼
- æ€§èƒ½ä¼˜åŒ–æŒ‡å—
- å•å…ƒæµ‹è¯•æŒ‡å—

### 7.3 è”ç³»æ–¹å¼

- é¡¹ç›®è´Ÿè´£äººï¼š[å¾…å¡«å†™]
- æŠ€æœ¯è´Ÿè´£äººï¼š[å¾…å¡«å†™]
- æµ‹è¯•è´Ÿè´£äººï¼š[å¾…å¡«å†™]

---

## å…«ã€å˜æ›´å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä½œè€… | å˜æ›´è¯´æ˜ |
|------|------|------|---------|
| v1.0 | 2026-01-27 | AIåŠ©æ‰‹ | åˆå§‹ç‰ˆæœ¬ |

---

**æ–‡æ¡£ç»“æŸ**
