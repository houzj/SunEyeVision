<Window x:Class="SunEyeVision.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SunEyeVision.UI"
        xmlns:vm="clr-namespace:SunEyeVision.UI.ViewModels"
        mc:Ignorable="d"
        Title="Â§™Èò≥ÁúºËßÜËßâ - Êú∫Âô®ËßÜËßâÂπ≥Âè∞" Height="900" Width="1600"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        Background="#FFFFFF"
        Loaded="MainWindow_Loaded">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources/AppResources.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <DockPanel>
        <!-- ========== È°∂ÈÉ®ËèúÂçïÊ†è (28px) ========== -->
        <Menu DockPanel.Dock="Top" Height="28" Background="{StaticResource HeaderBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
            <MenuItem Header="Êñá‰ª∂(_F)">
                <MenuItem Header="Êñ∞Âª∫ÊñπÊ°à(_N)" Command="{Binding NewWorkflowCommand}" InputGestureText="Ctrl+N"/>
                <MenuItem Header="ÊâìÂºÄÊñπÊ°à(_O)" Command="{Binding OpenWorkflowCommand}" InputGestureText="Ctrl+O"/>
                <MenuItem Header="‰øùÂ≠òÊñπÊ°à(_S)" Command="{Binding SaveWorkflowCommand}" InputGestureText="Ctrl+S"/>
                <MenuItem Header="Âè¶Â≠ò‰∏∫(_A)" Command="{Binding SaveAsWorkflowCommand}" InputGestureText="Ctrl+Shift+S"/>
                <Separator/>
                <MenuItem Header="ÂØºÂÖ•(_I)" InputGestureText="Ctrl+I"/>
                <MenuItem Header="ÂØºÂá∫(_E)" InputGestureText="Ctrl+E"/>
                <Separator/>
                <MenuItem Header="ÊúÄËøëÊñá‰ª∂"/>
                <Separator/>
                <MenuItem Header="ÈÄÄÂá∫(_X)" InputGestureText="Alt+F4"/>
            </MenuItem>
            <MenuItem Header="ÁºñËæë(_E)">
                <MenuItem Header="Êí§ÈîÄ(_U)" InputGestureText="Ctrl+Z"/>
                <MenuItem Header="ÈáçÂÅö(_R)" InputGestureText="Ctrl+Y"/>
                <Separator/>
                <MenuItem Header="Â§çÂà∂(_C)" InputGestureText="Ctrl+C"/>
                <MenuItem Header="Á≤òË¥¥(_V)" InputGestureText="Ctrl+V"/>
                <MenuItem Header="Âà†Èô§(_D)" InputGestureText="Del"/>
                <Separator/>
                <MenuItem Header="ÂÖ®ÈÄâ(_A)" InputGestureText="Ctrl+A"/>
                <MenuItem Header="Êü•Êâæ(_F)" InputGestureText="Ctrl+F"/>
                <MenuItem Header="ÊõøÊç¢(_H)" InputGestureText="Ctrl+H"/>
            </MenuItem>
            <MenuItem Header="ËßÜÂõæ(_V)">
                <MenuItem Header="ÊñπÊ°àÊ†ë(_S)"/>
                <MenuItem Header="Â∑•ÂÖ∑ÁÆ±(_T)"/>
                <MenuItem Header="ËÆæÂ§áÁÆ°ÁêÜ(_D)"/>
                <MenuItem Header="Â±ûÊÄßÈù¢Êùø(_P)"/>
                <MenuItem Header="Êó•ÂøóÁ™óÂè£(_L)"/>
                <MenuItem Header="ÁªìÊûúÈ¢ÑËßà(_R)"/>
                <MenuItem Header="Á≥ªÁªü‰ø°ÊÅØ(_I)"/>
                <Separator/>
                <MenuItem Header="ÂÖ®Â±è(_F)" InputGestureText="F11"/>
                <MenuItem Header="ÈáçÁΩÆÂ∏ÉÂ±Ä(_R)"/>
            </MenuItem>
            <MenuItem Header="ËøêË°å(_R)">
                <MenuItem Header="ËøêË°å(_R)" Command="{Binding RunWorkflowCommand}" InputGestureText="F5"/>
                <MenuItem Header="ÂÅúÊ≠¢(_S)" Command="{Binding StopWorkflowCommand}" InputGestureText="Shift+F5"/>
                <MenuItem Header="ÊöÇÂÅú(_P)" InputGestureText="Ctrl+Break"/>
                <Separator/>
                <MenuItem Header="Ë∞ÉËØïÊ®°Âºè(_D)" InputGestureText="Ctrl+Shift+D"/>
                <MenuItem Header="ÂçïÊ≠•ÊâßË°å(_S)" InputGestureText="F10"/>
                <MenuItem Header="Êñ≠ÁÇπ(_B)" InputGestureText="F9"/>
            </MenuItem>
            <MenuItem Header="Â∑•ÂÖ∑(_T)">
                <MenuItem Header="Áõ∏Êú∫ÈÖçÁΩÆ(_C)"/>
                <MenuItem Header="ÂèÇÊï∞ÁÆ°ÁêÜ(_P)"/>
                <MenuItem Header="Êèí‰ª∂ÁÆ°ÁêÜ(_L)"/>
                <MenuItem Header="Á≥ªÁªüËÆæÁΩÆ(_S)"/>
                <MenuItem Header="Âø´Êç∑ÈîÆËÆæÁΩÆ(_K)"/>
            </MenuItem>
            <MenuItem Header="Êèí‰ª∂(_P)">
                <MenuItem Header="Êèí‰ª∂Â∏ÇÂú∫(_M)"/>
                <MenuItem Header="ÂÆâË£ÖÊèí‰ª∂(_I)"/>
                <MenuItem Header="ÂêØÁî®/Á¶ÅÁî®(_D)"/>
                <MenuItem Header="Êèí‰ª∂Êõ¥Êñ∞(_U)"/>
            </MenuItem>
            <MenuItem Header="Â∏ÆÂä©(_H)">
                <MenuItem Header="Áî®Êà∑ÊâãÂÜå(_M)" InputGestureText="F1" Command="{Binding ShowHelpCommand}"/>
                <MenuItem Header="APIÊñáÊ°£(_D)"/>
                <MenuItem Header="Âø´Êç∑ÈîÆ(_K)" Command="{Binding ShowShortcutsCommand}"/>
                <MenuItem Header="ÂÖ≥‰∫é(_A)" Command="{Binding ShowAboutCommand}"/>
            </MenuItem>
        </Menu>

        <!-- ========== Â∑•ÂÖ∑Ê†è (40px) ========== -->
        <ToolBar DockPanel.Dock="Top" Height="40" Background="{StaticResource HeaderBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
            <!-- Êñá‰ª∂Êìç‰ΩúÁªÑ -->
            <Button ToolTip="Êñ∞Âª∫ (Ctrl+N)" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}" Command="{Binding NewWorkflowCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="üìÑ" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="Êñ∞Âª∫" Margin="5,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button ToolTip="ÊâìÂºÄ (Ctrl+O)" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}" Command="{Binding OpenWorkflowCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="üìÇ" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="ÊâìÂºÄ" Margin="5,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button ToolTip="‰øùÂ≠ò (Ctrl+S)" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}" Command="{Binding SaveWorkflowCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="üíæ" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="‰øùÂ≠ò" Margin="5,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>

            <Separator/>

            <!-- ÊâßË°åÊéßÂà∂ÁªÑ -->
            <Button ToolTip="ËøêË°å (F5)" Padding="8,4" Margin="2" Style="{StaticResource PrimaryButton}" Command="{Binding RunWorkflowCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="‚ñ∂Ô∏è" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="ËøêË°å" Margin="5,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button ToolTip="ÂÅúÊ≠¢ (Shift+F5)" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}" Command="{Binding StopWorkflowCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="‚èπÔ∏è" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="ÂÅúÊ≠¢" Margin="5,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>
            <Button ToolTip="ÊöÇÂÅú" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="‚è∏Ô∏è" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="ÊöÇÂÅú" Margin="5,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>

            <Separator/>

            <!-- Ë∞ÉËØïÂ∑•ÂÖ∑ÁªÑ -->
            <Button ToolTip="ÂçïÊ≠•ÊâßË°å (F10)" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="üîç" FontSize="16" VerticalAlignment="Center"/>
                    <TextBlock Text="Ë∞ÉËØï" Margin="5,0,0,0" VerticalAlignment="Center"/>
                </StackPanel>
            </Button>

            <Separator/>

            <!-- ÁºñËæëÊìç‰ΩúÁªÑ -->
            <Button ToolTip="Êí§ÈîÄ (Ctrl+Z)" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <TextBlock Text="‚Ü©Ô∏è" FontSize="16" VerticalAlignment="Center"/>
            </Button>
            <Button ToolTip="ÈáçÂÅö (Ctrl+Y)" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <TextBlock Text="‚Ü™Ô∏è" FontSize="16" VerticalAlignment="Center"/>
            </Button>

            <Separator/>

            <!-- ËßÜÂõæÊéßÂà∂ÁªÑ -->
            <Button ToolTip="ÊîæÂ§ß" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <TextBlock Text="üîé+" FontSize="14" VerticalAlignment="Center"/>
            </Button>
            <Button ToolTip="Áº©Â∞è" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <TextBlock Text="üîé-" FontSize="14" VerticalAlignment="Center"/>
            </Button>
            <Button ToolTip="ÈÄÇÂ∫îÁ™óÂè£" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <TextBlock Text="üìê" FontSize="16" VerticalAlignment="Center"/>
            </Button>
            <Button ToolTip="100%" Padding="8,4" Margin="2" Style="{StaticResource SecondaryButton}">
                <TextBlock Text="1:1" FontSize="14" VerticalAlignment="Center" FontWeight="Bold"/>
            </Button>

            <Separator/>

            <TextBlock Text="Áº©Êîæ: 100%" VerticalAlignment="Center" Margin="8,0,4,0" FontSize="12" Foreground="#666666"/>
        </ToolBar>

        <!-- ========== Ê†áÁ≠æÊ†è (32px) ========== -->
        <Border DockPanel.Dock="Top" Height="32" Background="#E8E8E8" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
            <StackPanel Orientation="Horizontal">
                <Button Background="#FFFFFF" BorderBrush="#DDDDDD" BorderThickness="0,0,1,0" Padding="12,0" Height="32" HorizontalContentAlignment="Left">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="‚ñº" FontSize="10" Foreground="#666666" Margin="0,0,6,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Â∑•‰ΩúÊµÅ" FontWeight="Bold" VerticalAlignment="Center" FontSize="12"/>
                    </StackPanel>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter Margin="{TemplateBinding Padding}" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button Background="Transparent" BorderBrush="#DDDDDD" BorderThickness="0,0,1,0" Padding="12,0" Height="32" HorizontalContentAlignment="Left">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="üîÑ" FontSize="12" Margin="0,0,6,0" VerticalAlignment="Center"/>
                        <TextBlock Text="ÁªìÊûúÈ¢ÑËßà" VerticalAlignment="Center" FontSize="12" Foreground="#333333"/>
                    </StackPanel>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter Margin="{TemplateBinding Padding}" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button Background="Transparent" BorderBrush="#DDDDDD" BorderThickness="0,0,1,0" Padding="12,0" Height="32" HorizontalContentAlignment="Left">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="üìã" FontSize="12" Margin="0,0,6,0" VerticalAlignment="Center"/>
                        <TextBlock Text="Êó•Âøó" VerticalAlignment="Center" FontSize="12" Foreground="#333333"/>
                    </StackPanel>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter Margin="{TemplateBinding Padding}" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                <Button Background="Transparent" Padding="12,0" Height="32" ToolTip="Êñ∞Âª∫Ê†áÁ≠æ">
                    <TextBlock Text="+" FontSize="18" Foreground="#666666" VerticalAlignment="Center"/>
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}">
                                <ContentPresenter Margin="{TemplateBinding Padding}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </StackPanel>
        </Border>

        <!-- ========== ‰∏ªÂÜÖÂÆπÂå∫Âüü ========== -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="260"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="500"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="24"/>
            </Grid.RowDefinitions>

            <!-- ========== Â∑¶‰æßÂ∑•ÂÖ∑Âå∫ (260px) ========== -->
            <Border Grid.Column="0" Background="#F8F8F8" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,1,0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="8">
                        <!-- ÂõæÂÉèÂ§ÑÁêÜÂ∑•ÂÖ∑ÁªÑ -->
                        <TextBlock Text="ÂõæÂÉèÂ§ÑÁêÜ" FontSize="12" FontWeight="Bold" Foreground="#333333" Margin="0,8,0,4"/>
                        <ItemsControl ItemsSource="{Binding Tools}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <UniformGrid Columns="3"/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Padding="8" Margin="2" Background="#FFFFFF" BorderBrush="#E0E0E0" BorderThickness="1"
                                            Cursor="Hand"
                                            ToolTipService.ToolTip="{Binding Description}"
                                            ToolTipService.ShowDuration="5000"
                                            MouseLeftButtonDown="ToolItem_MouseLeftButtonDown"
                                            Tag="{Binding}">
                                        <StackPanel>
                                            <TextBlock Text="{Binding Icon}" FontSize="24" HorizontalAlignment="Center" Margin="0,4,0,8"/>
                                            <TextBlock Text="{Binding Name}" FontSize="10" Foreground="#333333" HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- ========== ‰∏≠Èó¥Â∑•‰ΩúÂå∫ ========== -->
            <Border Grid.Column="1" Background="#F5F5F5" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1,0,0,0">
                <Grid>
                    <Canvas x:Name="WorkflowCanvas" Background="#FFFFFF"
                            AllowDrop="True"
                            DragEnter="WorkflowCanvas_DragEnter"
                            DragOver="WorkflowCanvas_DragOver"
                            DragLeave="WorkflowCanvas_DragLeave"
                            Drop="WorkflowCanvas_Drop">
                        <!-- Â∑•‰ΩúÊµÅËøûÊé•Á∫ø -->
                        <ItemsControl ItemsSource="{Binding WorkflowConnections}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <Canvas/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Line Stroke="#666666" StrokeThickness="2" StrokeDashArray="5,5"
                                          X1="{Binding SourcePosition.X}" Y1="{Binding SourcePosition.Y}"
                                          X2="{Binding TargetPosition.X}" Y2="{Binding TargetPosition.Y}"/>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>

                        <!-- Â∑•‰ΩúÊµÅËäÇÁÇπ -->
                        <ItemsControl ItemsSource="{Binding WorkflowNodes}">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <Canvas/>
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemContainerStyle>
                                <Style>
                                    <Setter Property="Canvas.Left" Value="{Binding Position.X, Mode=TwoWay}"/>
                                    <Setter Property="Canvas.Top" Value="{Binding Position.Y, Mode=TwoWay}"/>
                                </Style>
                            </ItemsControl.ItemContainerStyle>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Width="140" Height="90" BorderBrush="{StaticResource BorderBrush}" BorderThickness="2"
                                            Background="#FFFFFF" CornerRadius="4"
                                            MouseLeftButtonDown="Node_MouseLeftButtonDown"
                                            MouseLeftButtonUp="Node_MouseLeftButtonUp"
                                            MouseMove="Node_MouseMove"
                                            Tag="{Binding}">
                                        <Grid MouseLeftButtonUp="Node_ClickForConnection"
                                              Background="Transparent">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>
                                            <Border Grid.Row="0" Background="{StaticResource PrimaryBrush}" Padding="6" CornerRadius="3,3,0,0"
                                                    MouseLeftButtonDown="Node_MouseDoubleClick">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="üîß" FontSize="14"/>
                                                    <TextBlock Text="{Binding Name}" Margin="6,0,0,0" FontWeight="Bold" FontSize="12" Foreground="White"/>
                                                </StackPanel>
                                            </Border>
                                            <TextBlock Grid.Row="1" Text="{Binding AlgorithmType}" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="10" Foreground="#0066CC"/>
                                            <Border Grid.Row="2" Background="#F0F8FF" Padding="4" CornerRadius="0,0,3,3">
                                                <TextBlock Text="‚è±Ô∏è 0ms" HorizontalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                            </Border>
                                        </Grid>
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Effect" Value="{x:Null}"/>
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding IsSelected}" Value="True">
                                                        <Setter Property="BorderBrush" Value="{StaticResource PrimaryBrush}"/>
                                                        <Setter Property="BorderThickness" Value="3"/>
                                                        <Setter Property="Effect">
                                                            <Setter.Value>
                                                                <DropShadowEffect Color="#0066CC" BlurRadius="10" ShadowDepth="0"/>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </Canvas>

                    <!-- ÁîªÂ∏ÉÂ∑•ÂÖ∑Ê†è -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="10">
                        <Button ToolTip="ÊîæÂ§ß" Padding="4" Background="White" BorderBrush="#CCCCCC" BorderThickness="1" Margin="2">
                            <TextBlock Text="+" FontSize="14" FontWeight="Bold"/>
                        </Button>
                        <Button ToolTip="Áº©Â∞è" Padding="4" Background="White" BorderBrush="#CCCCCC" BorderThickness="1" Margin="2">
                            <TextBlock Text="-" FontSize="14" FontWeight="Bold"/>
                        </Button>
                        <Button ToolTip="ÈÄÇÂ∫îÁ™óÂè£" Padding="4" Background="White" BorderBrush="#CCCCCC" BorderThickness="1" Margin="2">
                            <TextBlock Text="üìê" FontSize="14"/>
                        </Button>
                        <Button ToolTip="Ê∏ÖÁ©∫Â∑•‰ΩúÊµÅ" Padding="4" Background="White" BorderBrush="#CCCCCC" BorderThickness="1" Margin="2"
                                Command="{Binding ShowSettingsCommand}">
                            <TextBlock Text="üóëÔ∏è" FontSize="14"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- ========== Âè≥‰æßÈù¢Êùø (500px) ========== -->
            <Border Grid.Column="2" Grid.Row="0" Background="#FFFFFF" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1,0,0,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="500"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- ÂõæÂÉèÊòæÁ§∫Âå∫Âüü (500px) -->
                    <Border Grid.Row="0" Background="#333333" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1">
                        <Grid>
                            <TextBlock Text="ÂõæÂÉèÊòæÁ§∫Âå∫Âüü" Foreground="#888888" FontSize="14" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <!-- Ê†áÁ≠æÊ†è -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,8,0,0" Background="#333333">
                                <Button Background="#FFFFFF" BorderBrush="#DDDDDD" BorderThickness="1" Padding="8,4" Height="28" HorizontalContentAlignment="Center" FontSize="11">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="üì∑" FontSize="10" VerticalAlignment="Center"/>
                                        <TextBlock Text="ÂéüÂõæ" Margin="4,0,0,0" FontWeight="Bold" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Button>
                                <Button Background="Transparent" BorderBrush="#DDDDDD" BorderThickness="1" Padding="8,4" Height="28" HorizontalContentAlignment="Center" FontSize="11" Margin="2,0,0,0">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="üîÑ" FontSize="10" VerticalAlignment="Center"/>
                                        <TextBlock Text="Â§ÑÁêÜÂêé" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Button>
                                <Button Background="Transparent" BorderBrush="#DDDDDD" BorderThickness="1" Padding="8,4" Height="28" HorizontalContentAlignment="Center" FontSize="11" Margin="2,0,0,0">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="üìä" FontSize="10" VerticalAlignment="Center"/>
                                        <TextBlock Text="Ê£ÄÊµãÁªìÊûú" Margin="4,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                            <!-- Áº©ÊîæÂ∑•ÂÖ∑ -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="8">
                                <Button Background="White" BorderBrush="#CCCCCC" Padding="6,4" Margin="1" FontSize="10">+</Button>
                                <Button Background="White" BorderBrush="#CCCCCC" Padding="6,4" Margin="1" FontSize="10">-</Button>
                                <Button Background="White" BorderBrush="#CCCCCC" Padding="6,4" Margin="1" FontSize="10">üìê</Button>
                                <Button Background="White" BorderBrush="#CCCCCC" Padding="6,4" Margin="1" FontSize="10">üíæ</Button>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <!-- Â±ûÊÄßÈù¢Êùø - ‰ΩøÁî®TabControl -->
                    <Border Grid.Row="1" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Â±ûÊÄßÈù¢ÊùøÊ†áÈ¢ò -->
                            <Border Grid.Row="0" Background="#F0F0F0" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1" Padding="8,6">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="‚öôÔ∏è" FontSize="12" VerticalAlignment="Center"/>
                                    <TextBlock Text="Â±ûÊÄßÈù¢Êùø" Margin="6,0,0,0" FontWeight="Bold" FontSize="13" Foreground="#333333" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>

                            <!-- Â±ûÊÄßÂÜÖÂÆπ - ‰ΩøÁî®TabControl -->
                            <TabControl Grid.Row="1" Background="#FFFFFF" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0">
                                <!-- Â∑•ÂÖ∑ÂèÇÊï∞Ê†áÁ≠æÈ°µ -->
                                <TabItem Header="üîß Â∑•ÂÖ∑ÂèÇÊï∞">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="4">
                                        <StackPanel>
                                            <!-- ËäÇÁÇπ‰ø°ÊÅØ -->
                                            <Border Background="#E8F4F8" Padding="6" BorderBrush="#0066CC" BorderThickness="1" Margin="0,4,0,8" CornerRadius="3">
                                                <TextBlock Text="üîç ÂõæÂÉèÈááÈõÜ_1" FontWeight="Bold" FontSize="11" Foreground="#0066CC"/>
                                            </Border>

                                            <!-- Âü∫Êú¨‰ø°ÊÅØ -->
                                            <Expander Header="üìã Âü∫Êú¨‰ø°ÊÅØ" IsExpanded="True" Margin="0,4" Style="{StaticResource StyledExpander}">
                                                <StackPanel Margin="0,4">
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="ÂêçÁß∞:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBox Grid.Column="1" Text="ÂõæÂÉèÈááÈõÜ_1" Style="{StaticResource StyledTextBox}" FontSize="10"/>
                                                    </Grid>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="ID:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBlock Grid.Column="1" Text="node_001" VerticalAlignment="Center" FontSize="10" Foreground="#333333"/>
                                                    </Grid>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="Á±ªÂûã:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBlock Grid.Column="1" Text="ÂõæÂÉèÈááÈõÜ" VerticalAlignment="Center" FontSize="10" Foreground="#333333"/>
                                                    </Grid>
                                                </StackPanel>
                                                <Expander.HeaderTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="üìã Âü∫Êú¨‰ø°ÊÅØ" FontSize="10" FontWeight="Bold" Foreground="#333333"/>
                                                    </DataTemplate>
                                                </Expander.HeaderTemplate>
                                            </Expander>

                                            <!-- ÂèÇÊï∞ÈÖçÁΩÆ -->
                                            <Expander Header="üîß ÂèÇÊï∞ÈÖçÁΩÆ" IsExpanded="True" Margin="0,4" Style="{StaticResource StyledExpander}">
                                                <StackPanel Margin="0,4">
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="Áõ∏Êú∫:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <ComboBox Grid.Column="1" SelectedIndex="0" Style="{StaticResource StyledComboBox}" FontSize="10">
                                                            <ComboBoxItem Content="Áõ∏Êú∫1"/>
                                                            <ComboBoxItem Content="Áõ∏Êú∫2"/>
                                                        </ComboBox>
                                                    </Grid>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="ÂàÜËæ®Áéá:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <ComboBox Grid.Column="1" SelectedIndex="0" Style="{StaticResource StyledComboBox}" FontSize="10">
                                                            <ComboBoxItem Content="1920x1080"/>
                                                            <ComboBoxItem Content="1280x720"/>
                                                            <ComboBoxItem Content="640x480"/>
                                                        </ComboBox>
                                                    </Grid>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50"/>
                                                            <ColumnDefinition Width="40"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="ÊõùÂÖâ:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBox Grid.Column="1" Text="10000" Style="{StaticResource StyledTextBox}" FontSize="10"/>
                                                        <TextBlock Grid.Column="2" Text="Œºs" VerticalAlignment="Center" FontSize="10" Foreground="#666666" Margin="4,0,0,0"/>
                                                    </Grid>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="50"/>
                                                            <ColumnDefinition Width="40"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="Â¢ûÁõä:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBox Grid.Column="1" Text="10.5" Style="{StaticResource StyledTextBox}" FontSize="10"/>
                                                        <TextBlock Grid.Column="2" Text="dB" VerticalAlignment="Center" FontSize="10" Foreground="#666666" Margin="4,0,0,0"/>
                                                    </Grid>
                                                </StackPanel>
                                                <Expander.HeaderTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="üîß ÂèÇÊï∞ÈÖçÁΩÆ" FontSize="10" FontWeight="Bold" Foreground="#333333"/>
                                                    </DataTemplate>
                                                </Expander.HeaderTemplate>
                                            </Expander>

                                            <!-- ÊÄßËÉΩÁªüËÆ° -->
                                            <Expander Header="üìä ÊÄßËÉΩÁªüËÆ°" IsExpanded="True" Margin="0,4" Style="{StaticResource StyledExpander}">
                                                <StackPanel Margin="0,4">
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="70"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="ÊâßË°åÊ¨°Êï∞:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBlock Grid.Column="1" Text="1,234" VerticalAlignment="Center" FontSize="10" FontWeight="Bold" Foreground="#0066CC"/>
                                                    </Grid>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="70"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="Âπ≥ÂùáÊó∂Èó¥:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBlock Grid.Column="1" Text="8.5 ms" VerticalAlignment="Center" FontSize="10" FontWeight="Bold" Foreground="#0066CC"/>
                                                    </Grid>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="70"/>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="ÊàêÂäüÁéá:" VerticalAlignment="Center" FontSize="10" Foreground="#666666"/>
                                                        <TextBlock Grid.Column="1" Text="99.8%" VerticalAlignment="Center" FontSize="10" FontWeight="Bold" Foreground="#00CC99"/>
                                                    </Grid>
                                                </StackPanel>
                                                <Expander.HeaderTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="üìä ÊÄßËÉΩÁªüËÆ°" FontSize="10" FontWeight="Bold" Foreground="#333333"/>
                                                    </DataTemplate>
                                                </Expander.HeaderTemplate>
                                            </Expander>
                                        </StackPanel>
                                    </ScrollViewer>
                                </TabItem>

                                <!-- ‰ø°ÊÅØÊ†áÁ≠æÈ°µ -->
                                <TabItem Header="üìã ‰ø°ÊÅØ">
                                    <ScrollViewer VerticalScrollBarVisibility="Auto" Margin="4">
                                        <TextBox IsReadOnly="True" Background="#F8F8F8" BorderThickness="0" FontFamily="{StaticResource MonoFont}" FontSize="10" Padding="8" TextWrapping="Wrap">
                                            <TextBox.Text>
                                                [14:23:45] ‚úÖ [Á≥ªÁªü]
  Á≥ªÁªüÂêØÂä®ÊàêÂäü
[14:23:46] ‚úÖ [ËÆæÂ§á]
  Áõ∏Êú∫1 ËøûÊé•ÊàêÂäü
[14:23:46] ‚úÖ [ËÆæÂ§á]
  Áõ∏Êú∫2 ËøûÊé•ÊàêÂäü
[14:23:47] ‚ÑπÔ∏è [Â∑•‰ΩúÊµÅ]
  ÂºÄÂßãÊâßË°åÊµÅÁ®ã1
[14:23:48] ‚ö†Ô∏è [ÁÆóÊ≥ï]
  ÂõæÂÉèÈááÈõÜË∂ÖÊó∂
[14:23:49] ‚ùå [Á≥ªÁªü]
  ÊâßË°åÂ§±Ë¥•
                                            </TextBox.Text>
                                        </TextBox>
                                    </ScrollViewer>
                                </TabItem>
                            </TabControl>
                        </Grid>
                    </Border>
                </Grid>
            </Border>

            <!-- ========== Áä∂ÊÄÅÊ†è (24px) ========== -->
            <StatusBar Grid.ColumnSpan="3" Grid.Row="1" Height="24" Background="{StaticResource HeaderBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,1,0,0">
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="‚óè" Foreground="#00CC99" FontSize="10" VerticalAlignment="Center" Margin="0,0,4,0"/>
                        <TextBlock Text="{Binding StatusText}" FontSize="11" VerticalAlignment="Center"/>
                    </StackPanel>
                </StatusBarItem>
                <Separator/>
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="üì∑ Áõ∏Êú∫:" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                        <TextBlock Text="{Binding CameraStatus}" FontSize="11" Foreground="#00CC99" VerticalAlignment="Center"/>
                    </StackPanel>
                </StatusBarItem>
                <Separator/>
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ÊµÅÁ®ã1:" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                        <TextBlock Text="{Binding IsRunning, Converter={StaticResource BoolToRunningTextConverter}}" FontSize="11" Foreground="#0066CC" VerticalAlignment="Center"/>
                    </StackPanel>
                </StatusBarItem>
                <Separator/>
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="CPU:" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                        <TextBlock Text="45%" FontSize="11" VerticalAlignment="Center"/>
                    </StackPanel>
                </StatusBarItem>
                <Separator/>
                <StatusBarItem HorizontalAlignment="Right">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="FPS:" FontSize="11" VerticalAlignment="Center" Margin="0,0,4,0"/>
                        <TextBlock Text="62.5" FontSize="11" FontWeight="Bold" Foreground="#00CC99" VerticalAlignment="Center"/>
                    </StackPanel>
                </StatusBarItem>
            </StatusBar>
        </Grid>
    </DockPanel>
</Window>
